# 0002: Extend Convex users schema with preferences

## Context

Add `language` and `theme` fields to the users table so preferences persist across devices. Extend the `update` mutation to accept these fields.

## Dependencies

- None (independent of i18n library setup)

## Files

- `convex/schema/users.ts` (edit)
- `convex/users.ts` (edit)

## Requirements

1. **Schema** — add after `avatarUrl`:

   ```ts
   language: v.optional(v.string()),  // 'es' | 'en'
   theme: v.optional(v.string()),     // 'light' | 'dark'
   ```

2. **`update` mutation** — add to args:

   ```ts
   language: v.optional(v.string()),
   theme: v.optional(v.string()),
   ```

   Add to handler's `updates` object (same pattern as `name`/`avatarUrl`).

3. **`getOrCreate`** — no changes needed. New users get `undefined` (defaults handled client-side as `es`/`dark`).

## Definition of Done

- [ ] `convex/schema/users.ts` includes `language` and `theme` fields
- [ ] `convex/users.ts` `update` mutation accepts and persists `language`/`theme`
- [ ] Existing queries return the new fields without breaking
- [ ] `pnpm convex:codegen` succeeds (or dev server picks up changes)
